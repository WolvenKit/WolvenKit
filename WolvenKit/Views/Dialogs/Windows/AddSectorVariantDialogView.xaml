<Window
    x:Class="WolvenKit.Views.Dialogs.Windows.AddSectorVariantDialogView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:syncfusion="http://schemas.syncfusion.com/wpf"
    xmlns:helpers="clr-namespace:WolvenKit.Functionality.Helpers"
    xmlns:editors="clr-namespace:WolvenKit.Views.Editors"
    xmlns:templates="clr-namespace:WolvenKit.Views.Templates"
    Title="Replace in Selection"
    MinWidth="{DynamicResource WolvenKitDialogWidthSmall}"
    MinHeight="{DynamicResource WolvenKitDialogHeightSmall}"
    SizeToContent="WidthAndHeight"
    FocusManager.FocusedElement="{Binding ElementName=SectorNameTextBox}"
    DataContext="{Binding RelativeSource={RelativeSource Self},
                          Path=ViewModel}"
    WindowStartupLocation="CenterScreen">
    <Grid
        HorizontalAlignment="Stretch"
        VerticalAlignment="Stretch">

        <syncfusion:WizardControl
            CancelButtonCancelsWindow="True"
            FinishButtonClosesWindow="True"
            Finish="WizardControl_OnFinish">
            <syncfusion:WizardPage
                BackVisibility="Collapsed"
                CancelVisibility="Visible"
                FinishVisibility="Visible"
                HelpVisibility="Collapsed"
                NextVisibility="Collapsed"
                PreviewKeyDown="WizardPage_PreviewKeyDown"
                PageType="Exterior">
                <Grid
                    Margin="{StaticResource WolvenKitMarginTiny}"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Stretch">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="{StaticResource WolvenKitDialogLabelColumnWidthMedium}" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="5" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="5" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="5" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="5" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="5" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="5" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="5" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="5" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="5" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!-- Sector name -->
                    <TextBlock
                        Grid.Row="0"
                        Grid.Column="0"
                        VerticalAlignment="Center"
                        Text="New variant name:" />
                    <TextBox
                        x:Name="SectorNameTextBox"
                        Grid.Row="0"
                        Grid.Column="1"
                        Grid.ColumnSpan="2"
                        helpers:TextBoxBehavior.FocusGainedSelectAll="True"
                        KeyboardNavigation.TabIndex="-1" />

                    <TextBlock
                        Grid.Row="2"
                        Grid.Column="1"
                        VerticalAlignment="Center"
                        Text="Will be used as prefix for multiple sectors" />

                    <editors:FilterableDropdownMenu
                        x:Name="TemplateVariantDropdownMenu"
                        Grid.Row="4"
                        Grid.Column="0"
                        Grid.ColumnSpan="3"
                        Label="Template variant:"
                        Options="{Binding VariantNames,
                                          UpdateSourceTrigger=PropertyChanged}"
                        SelectedOption="{Binding TemplateVariant,
                                                 Mode=TwoWay}"
                        IsInline="True" />

                    <TextBox
                        x:Name="TemplateSectorTextBox"
                        Grid.Row="6"
                        Grid.Column="1"
                        helpers:TextBoxBehavior.FocusGainedSelectAll="True"
                        KeyboardNavigation.TabIndex="-1" />

                    <Button
                        Grid.Row="6"
                        Grid.Column="2"
                        Margin="{DynamicResource WolvenKitMarginTinyLeft}"
                        Background="Transparent"
                        Style="{StaticResource ButtonCustom}"
                        Click="LoadSectorButton_OnClick"
                        ToolTip="Load appearances from template sector">
                        <templates:IconBox
                            IconPack="Material"
                            Kind="DownloadNetworkOutline"
                            Size="{DynamicResource WolvenKitIconTiny}" />
                    </Button>

                    <TextBlock
                        Grid.Row="8"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="{DynamicResource WolvenKitMarginTop}"
                        VerticalAlignment="Center"
                        FontSize="{DynamicResource WolvenKitFontMedium}"
                        Text="Change node appearances (search and replace)" />

                    <editors:FilterableDropdownMenu
                        x:Name="NodeAppearanceDropdown"
                        Grid.Row="10"
                        Grid.Column="0"
                        Grid.ColumnSpan="3"
                        Visibility="{Binding Path=ShowNodeAppearanceDropdown,
                                             Converter={StaticResource BooleanToVisibilityConverter}}"
                        Label=""
                        Options="{Binding SectorNodeAppearances,
                                          UpdateSourceTrigger=PropertyChanged}"
                        SelectedOption="{Binding SearchInAppearances,
                                                 Mode=TwoWay}"
                        IsInline="True" />

                    <TextBlock
                        Grid.Row="12"
                        Grid.Column="0"
                        VerticalAlignment="Center"
                        Text="Search:" />
                    <TextBox
                        x:Name="SearchInMeshAppearanceTextBox"
                        Grid.Row="12"
                        Grid.Column="1"
                        Grid.ColumnSpan="2"
                        helpers:TextBoxBehavior.FocusGainedSelectAll="True"
                        KeyboardNavigation.TabIndex="-1" />

                    <TextBlock
                        Grid.Row="14"
                        Grid.Column="0"
                        VerticalAlignment="Top"
                        Text="Replace:" />
                    <TextBlock
                        Grid.Row="14"
                        Grid.Column="1"
                        Grid.ColumnSpan="2"
                        VerticalAlignment="Top"
                        Text="To create multiple variants, use one line per entry" />
                    <TextBox
                        x:Name="ReplaceInMeshAppearanceTextBox"
                        Grid.Row="16"
                        Grid.Column="1"
                        Grid.ColumnSpan="2"
                        Height="150"
                        helpers:TextBoxBehavior.FocusGainedSelectAll="True"
                        KeyboardNavigation.TabIndex="-1"
                        TextWrapping="WrapWithOverflow"
                        VerticalScrollBarVisibility="Auto"
                        AcceptsReturn="True" />


                </Grid>
            </syncfusion:WizardPage>
        </syncfusion:WizardControl>
    </Grid>
</Window>
