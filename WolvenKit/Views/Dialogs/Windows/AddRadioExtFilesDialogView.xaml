<Window
    x:Class="WolvenKit.Views.Dialogs.Windows.AddRadioExtFilesDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:hc="https://handyorg.github.io/handycontrol"
    xmlns:syncfusion="http://schemas.syncfusion.com/wpf"
    xmlns:helpers="clr-namespace:WolvenKit.Functionality.Helpers"
    xmlns:templates="clr-namespace:WolvenKit.Views.Templates"
    Title="Replace in Selection"
    MinWidth="{DynamicResource WolvenKitDialogWidthSmall}"
    MinHeight="{DynamicResource WolvenKitDialogHeightSmall}"
    SizeToContent="WidthAndHeight"
    FocusManager.FocusedElement="{Binding ElementName=IconTextBox}"
    WindowStartupLocation="CenterScreen">
    <Grid
        HorizontalAlignment="Stretch"
        VerticalAlignment="Stretch"
        hc:ThemeManager.RequestedAccentColor="{DynamicResource MahApps.Brushes.Accent3}">
        <Grid.Resources>
            <ResourceDictionary>
                <ResourceDictionary.MergedDictionaries>
                    <hc:ThemeResources />
                    <hc:Theme />
                </ResourceDictionary.MergedDictionaries>
            </ResourceDictionary>
        </Grid.Resources>

        <syncfusion:WizardControl
            CancelButtonCancelsWindow="True"
            FinishButtonClosesWindow="True"
            Finish="WizardControl_OnFinish">
            <syncfusion:WizardPage
                BackVisibility="Collapsed"
                CancelVisibility="Visible"
                FinishVisibility="Visible"
                HelpVisibility="Collapsed"
                NextVisibility="Collapsed"
                PreviewKeyDown="WizardPage_PreviewKeyDown"
                PageType="Exterior">
                <Grid
                    Margin="{StaticResource WolvenKitMarginTiny}"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Stretch">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="{StaticResource WolvenKitPropertyColumnWidth}" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="{DynamicResource WolvenKitColumnTiny}" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="{DynamicResource WolvenKitColumnTiny}" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="{DynamicResource WolvenKitColumnTiny}" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="{DynamicResource WolvenKitColumnTiny}" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="{DynamicResource WolvenKitColumnTiny}" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!-- Radio Name -->
                    <TextBlock
                        Grid.Row="0"
                        Grid.Column="0"
                        VerticalAlignment="Center"
                        Text="Station name:" />
                    <TextBox
                        x:Name="StationNameTextBox"
                        Grid.Row="0"
                        Grid.Column="1"
                        helpers:TextBoxBehavior.FocusGainedSelectAll="True"
                        KeyboardNavigation.TabIndex="2" />

                    <!-- Radio Name -->
                    <TextBlock
                        Grid.Row="2"
                        Grid.Column="0"
                        VerticalAlignment="Center"
                        Text="FM:" />
                    <TextBox
                        x:Name="StationFrequencyTextBox"
                        Grid.Row="2"
                        Grid.Column="1"
                        helpers:TextBoxBehavior.FocusGainedSelectAll="True"
                        KeyboardNavigation.TabIndex="2" />

                    <!-- Search -->
                    <TextBlock
                        Grid.Row="4"
                        Grid.Column="0"
                        VerticalAlignment="Center"
                        Text="Icon file:" />

                    <TextBox
                        x:Name="IconTextBox"
                        Grid.Row="4"
                        Grid.Column="1"
                        helpers:TextBoxBehavior.FocusGainedSelectAll="True"
                        KeyboardNavigation.TabIndex="1" />

                    <Button
                        Grid.Row="4"
                        Grid.Column="2"
                        Margin="{DynamicResource WolvenKitMarginTinyLeft}"
                        Background="Transparent"
                        Style="{StaticResource ButtonCustom}"
                        Click="SearchIconButton_OnClick"
                        ToolTip="Search icon file">
                        <templates:IconBox
                            IconPack="Material"
                            Kind="ImageSearch"
                            Size="{DynamicResource WolvenKitIconTiny}" />
                    </Button>

                    <!-- Search -->
                    <TextBlock
                        Grid.Row="6"
                        Grid.Column="0"
                        Grid.ColumnSpan="3"
                        VerticalAlignment="Top"
                        Text="Songs:" />

                    <TextBox
                        x:Name="SongFolderTextBox"
                        Grid.Row="6"
                        Grid.Column="1"
                        helpers:TextBoxBehavior.FocusGainedSelectAll="True"
                        KeyboardNavigation.TabIndex="1" />


                    <Grid
                        Grid.Row="6"
                        Grid.Column="1">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <!-- Header -->
                        <Border
                            Grid.Row="0"
                            Padding="15"
                            Background="#2E3A59">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    Foreground="White"
                                    FontSize="18"
                                    FontWeight="Bold"
                                    Text="ðŸŽµ Song Playlist" />
                                <TextBlock
                                    Margin="15,0,0,0"
                                    VerticalAlignment="Center"
                                    Foreground="#A0B0D0"
                                    Text=" - Drag to reorder â€¢ Click âŒ to delete" />
                            </StackPanel>
                        </Border>

                        <!-- Songs Grid -->
                        <syncfusion:SfDataGrid
                            x:Name="SongsGrid"
                            Grid.Row="1"
                            Margin="10"
                            RowHeight="40"
                            AutoGenerateColumns="False"
                            AllowDraggingRows="True"
                            SelectionMode="Single"
                            SelectionUnit="Row"
                            ShowRowHeader="False">

                            <!-- Columns -->
                            <syncfusion:SfDataGrid.Columns>

                                <!-- Drag Handle Column -->
                                <syncfusion:GridTemplateColumn
                                    Width="40"
                                    HeaderText=""
                                    AllowEditing="False">
                                    <syncfusion:GridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock
                                                Margin="10,0"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Foreground="#888"
                                                FontSize="16"
                                                Text="â˜°"
                                                ToolTip="Drag to reorder" />
                                        </DataTemplate>
                                    </syncfusion:GridTemplateColumn.CellTemplate>
                                </syncfusion:GridTemplateColumn>

                                <!-- Song Name -->
                                <syncfusion:GridTextColumn
                                    Width="*"
                                    MappingName="FileName"
                                    HeaderText="Song Name"
                                    TextAlignment="Left">
                                    <syncfusion:GridTextColumn.HeaderStyle>
                                        <Style TargetType="syncfusion:GridRowHeaderCell">
                                            <Setter Property="Background" Value="#F8F9FA" />
                                            <Setter Property="FontWeight" Value="Bold" />
                                            <Setter Property="Foreground" Value="#2E3A59" />
                                        </Style>
                                    </syncfusion:GridTextColumn.HeaderStyle>
                                </syncfusion:GridTextColumn>

                                <!-- Delete Button -->
                                <syncfusion:GridTemplateColumn
                                    Width="60"
                                    HeaderText=""
                                    AllowEditing="False">
                                    <syncfusion:GridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Button
                                                x:Name="DeleteButton"
                                                Width="26"
                                                Height="26"
                                                Background="Transparent"
                                                BorderBrush="Transparent"
                                                Foreground="#FF4444"
                                                FontSize="12"
                                                FontWeight="Bold"
                                                Content="âŒ"
                                                Cursor="Hand"
                                                ToolTip="Delete this song"
                                                Click="RowDeleteButton_Click"
                                                Tag="{Binding}">
                                                <Button.Style>
                                                    <Style TargetType="Button">
                                                        <Style.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter Property="Background" Value="#FFE0E0" />
                                                                <Setter Property="BorderBrush" Value="#FFAAAA" />
                                                                <Setter Property="BorderThickness" Value="1" />
                                                            </Trigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Button.Style>
                                            </Button>
                                        </DataTemplate>
                                    </syncfusion:GridTemplateColumn.CellTemplate>
                                </syncfusion:GridTemplateColumn>

                            </syncfusion:SfDataGrid.Columns>

                        </syncfusion:SfDataGrid>

                    </Grid>

                    <Button
                        Grid.Row="6"
                        Grid.Column="2"
                        Margin="{DynamicResource WolvenKitMarginTinyLeft}"
                        Background="Transparent"
                        Style="{StaticResource ButtonCustom}"
                        Click="SearchSongFolderButton_OnClick"
                        ToolTip="Search icon file">
                        <templates:IconBox
                            IconPack="Material"
                            Kind="FolderMusic"
                            Size="{DynamicResource WolvenKitIconTiny}" />
                    </Button>

                </Grid>
            </syncfusion:WizardPage>
        </syncfusion:WizardControl>
    </Grid>
</Window>
